{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["const addBtn = document.querySelector('.add-btn');\n\nconst modalAdd = document.querySelector('.add-modal');\nconst inputModal = document.querySelector('.input-modal-add');\nconst applyTaskAdd = document.querySelector('.apply');\nconst cancelBtn = document.querySelector('.cancel');\n\nconst modalEdit = document.querySelector('.edit-modal');\nconst inputModalEdit = document.querySelector('.input-modal-edit');\nconst applyTaskEdit = document.querySelector('.apply-changes');\nconst cancelTaskEdit = document.querySelector('.cancel-edit');\n\nconst modalDelete = document.querySelector('.delete-modal');\nconst applyTaskDelete = document.querySelector('.delete-yes');\nconst cancelTaskDelete = document.querySelector('.delete-no');\n\nconst emptyImg = document.querySelector('.empty-element');\nconst taskList = document.querySelector('.task-list');\n// const checkboxItem = document.querySelector('.input-checkbox ');\n\nconst selectBtn = document.querySelector('.btn-all');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const savedFilter = localStorage.getItem('filter') || 'all';\n  selectBtn.value = savedFilter;\n  filterTasks(savedFilter);\n});\n\nlet tasksArray = JSON.parse(localStorage.getItem('tasksArray')) || [];\n\nif (tasksArray.length > 0) {\n  emptyImg.classList.add('hidden');\n  createElement(tasksArray, taskList);\n}\n\naddBtn.addEventListener('click', () => {\n  modalAdd.classList.remove('hidden');\n});\n\napplyTaskAdd.addEventListener('click', () => {\n  const inputValue = inputModal.value;\n\n  const idItem = Date.now();\n  const checked = false;\n  tasksArray.push({ text: inputValue, id: idItem, completed: checked });\n  localStorage.setItem('tasksArray', JSON.stringify(tasksArray));\n  console.log(tasksArray);\n\n  hiddenElement(modalAdd);\n\n  if (tasksArray.length > 0) {\n    emptyImg.classList.add('hidden');\n  }\n\n  createElement(tasksArray, taskList);\n\n  inputModal.value = '';\n  console.log(inputValue);\n});\n\ncancelBtn.addEventListener('click', () => {\n  hiddenElement(modalAdd);\n  inputModal.value = '';\n});\n\ntaskList.addEventListener('click', e => {\n  const taskItem = e.target.closest('.task-container');\n\n  if (!taskItem) return;\n  const taskId = Number(taskItem.dataset.id);\n  console.log(taskId);\n\n  if (e.target.closest('.btn-edid')) {\n    editTask(taskId);\n  }\n\n  if (e.target.closest('.btn-delete')) {\n    deleteTask(taskId);\n  }\n\n  if (e.target.classList.contains('input-checkbox')) {\n    const taskItem = e.target.closest('.task-container'); // Знаходимо батьківський елемент\n    const taskId = Number(taskItem.dataset.id); // Отримуємо ID завдання\n\n    checkedToggle(taskId, e.target);\n  }\n});\n\n// checkboxItem.addEventListener('click', e => {});\n\nselectBtn.addEventListener('change', e => {\n  const selectedValue = e.target.value;\n  localStorage.setItem('filter', selectedValue); // Зберігаємо фільтр у LS\n  filterTasks(selectedValue);\n});\n\n// Функція фільтрації\nfunction filterTasks(filter) {\n  let filteredTask;\n  switch (filter) {\n    case 'all':\n      filteredTask = tasksArray;\n      break;\n    case 'complete':\n      filteredTask = tasksArray.filter(task => task.completed);\n      break;\n    case 'incomplete':\n      filteredTask = tasksArray.filter(task => !task.completed);\n      break;\n  }\n  createElement(filteredTask, taskList);\n}\n\nconst hiddenElement = e => {\n  e.classList.add('hidden');\n};\n\nfunction createElement(tasksArray, taskList) {\n  taskList.innerHTML = '';\n  tasksArray.forEach(item => {\n    taskList.insertAdjacentHTML(\n      'beforeend',\n      `<li class=\"task-container\" data-id=${item.id}>\n            <div class=\"checkbox-container\">\n              <input\n                type=\"checkbox\"\n                name=\"custom-checkbox\"\n                id=${item.id}\n                class=\"input-checkbox visually-hidden\"\n                ${item.completed ? 'checked' : ''}\n              />\n              <label for=\"custom-checkbox\" class=\"checkbox-label\">\n                <span>\n                  <svg class=\"svg-chacckbox\">\n                    <use href=\"./img/symbol-defs.svg#icon-Rectangle-18\"></use>\n                  </svg>\n                </span>\n                <p class=\"item-tittle\">${item.text}</p>\n              </label>\n            </div>\n            <div class=\"btn-container-add-delete\">\n              <button class=\"btn-list btn-edid\">\n                <svg class=\"svg-list\">\n                  <use href=\"./img/symbol-defs.svg#icon-edit\"></use>\n                </svg></button\n              ><button class=\"btn-list btn-delete\">\n                <svg class=\"svg-list\">\n                  <use href=\"./img/symbol-defs.svg#icon-delete\"></use>\n                </svg>\n              </button>\n            </div>\n          </li>`\n    );\n  });\n}\n\nfunction editTask(taskId) {\n  const tittle = document.querySelector('.item-tittle');\n  modalEdit.classList.remove('hidden');\n\n  const arrayMap = tasksArray.find(item => item.id === taskId);\n  console.log(inputModalEdit.value);\n  // arrayMap.text = inputModalEdit.value;\n  inputModalEdit.value = arrayMap.text;\n\n  applyTaskEdit.addEventListener('click', e => {\n    const arrayFindElement = tasksArray.find(item => item.id === taskId);\n    arrayFindElement.text = inputModalEdit.value;\n\n    localStorage.setItem('tasksArray', JSON.stringify(tasksArray));\n    createElement(tasksArray, taskList);\n    modalEdit.classList.add('hidden');\n  });\n\n  cancelTaskEdit.addEventListener('click', () => {\n    modalEdit.classList.add('hidden');\n  });\n}\nfunction deleteTask(taskId) {\n  modalDelete.classList.remove('hidden');\n\n  applyTaskDelete.addEventListener('click', () => {\n    const findDeleteElement = tasksArray.filter(item => item.id !== taskId);\n    tasksArray = findDeleteElement;\n    localStorage.setItem('tasksArray', JSON.stringify(tasksArray));\n    createElement(tasksArray, taskList);\n    modalDelete.classList.add('hidden');\n  });\n\n  cancelTaskDelete.addEventListener('click', () => {\n    modalDelete.classList.add('hidden');\n  });\n}\n\nfunction checkedToggle(taskId, checkboxElement) {\n  const task = tasksArray.find(item => item.id === taskId);\n\n  task.completed = checkboxElement.checked;\n\n  localStorage.setItem('tasksArray', JSON.stringify(tasksArray));\n}\n"],"names":["addBtn","modalAdd","inputModal","applyTaskAdd","cancelBtn","modalEdit","inputModalEdit","applyTaskEdit","cancelTaskEdit","modalDelete","applyTaskDelete","cancelTaskDelete","emptyImg","taskList","selectBtn","savedFilter","filterTasks","tasksArray","createElement","inputValue","idItem","hiddenElement","taskItem","taskId","editTask","deleteTask","checkedToggle","selectedValue","filter","filteredTask","task","item","arrayMap","e","arrayFindElement","checkboxElement"],"mappings":"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"}