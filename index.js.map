{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["const body = document.body;\nconst searchInput = document.querySelector('.search-input');\nconst selectBtn = document.querySelector('.btn-all');\nconst tittle = document.querySelectorAll('.item-tittle');\nconst addBtn = document.querySelector('.add-btn');\nconst modeToggle = document.querySelector('.mode-toggle');\n\nconst svgUse = document.querySelector('.toggle-icon');\n\nconst modalAdd = document.querySelector('.add-modal');\nconst inputModal = document.querySelector('.input-modal-add');\nconst applyTaskAdd = document.querySelector('.apply');\nconst cancelBtn = document.querySelector('.cancel');\n\nconst modalEdit = document.querySelector('.edit-modal');\nconst inputModalEdit = document.querySelector('.input-modal-edit');\nconst applyTaskEdit = document.querySelector('.apply-changes');\nconst cancelTaskEdit = document.querySelector('.cancel-edit');\n\nconst modalDelete = document.querySelector('.delete-modal');\nconst applyTaskDelete = document.querySelector('.delete-yes');\nconst cancelTaskDelete = document.querySelector('.delete-no');\n\nconst emptyImg = document.querySelector('.empty-element');\nconst taskList = document.querySelector('.task-list');\n\n// console.log(window.location.href);\ndocument.addEventListener('DOMContentLoaded', () => {\n  const savedFilter = localStorage.getItem('filter') || 'all';\n  selectBtn.value = savedFilter;\n  filterTasks(savedFilter);\n\n  if (localStorage.getItem('theme') === 'dark') {\n    // svgUse.setAttribute('href', './img/symbol-defs.svg#icon-sun');\n    svgUse.setAttribute('href', './img/symbol-defs.svg#icon-sun');\n\n    // https://nataliiakopychynska.github.io/to-do-list-js/\n    darkTheme();\n  } else {\n    // svgUse.setAttribute('href', './img/symbol-defs.svg#icon-moon');\n    svgUse.setAttribute('href', './img/symbol-defs.svg#icon-moon');\n\n    lightTheme();\n  }\n});\n\n//\n\nlet tasksArray = JSON.parse(localStorage.getItem('tasksArray')) || [];\nemptyList();\n\naddBtn.addEventListener('click', () => {\n  modalAdd.classList.remove('hidden');\n});\n\nmodeToggle.addEventListener('click', () => {\n  document.body.classList.toggle('dark-theme');\n\n  if (document.body.classList.contains('dark-theme')) {\n    svgUse.setAttribute('href', './img/symbol-defs.svg#icon-sun');\n    localStorage.setItem('theme', 'dark');\n    darkTheme();\n  } else {\n    svgUse.setAttribute('href', './img/symbol-defs.svg#icon-moon');\n    localStorage.setItem('theme', 'light');\n    lightTheme();\n  }\n});\n\napplyTaskAdd.addEventListener('click', () => {\n  const inputValue = inputModal.value;\n  const idItem = Date.now();\n  tasksArray.push({ text: inputValue, id: idItem, completed: false });\n  localStorage.setItem('tasksArray', JSON.stringify(tasksArray));\n  console.log(tasksArray);\n\n  hiddenElement(modalAdd);\n\n  if (tasksArray.length > 0) {\n    emptyImg.classList.add('hidden');\n  }\n\n  createElement(tasksArray, taskList);\n\n  inputModal.value = '';\n  console.log(inputValue);\n});\n\ncancelBtn.addEventListener('click', () => {\n  hiddenElement(modalAdd);\n  inputModal.value = '';\n});\n\ntaskList.addEventListener('click', e => {\n  const taskItem = e.target.closest('.task-container');\n\n  if (!taskItem) return;\n  const taskId = Number(taskItem.dataset.id);\n  console.log(taskId);\n\n  if (e.target.closest('.btn-edid')) {\n    editTask(taskId);\n  }\n\n  if (e.target.closest('.btn-delete')) {\n    deleteTask(taskId);\n  }\n\n  if (e.target.closest('.checkbox-container')) {\n    const taskId = Number(taskItem.dataset.id);\n\n    checkedToggle(taskId);\n  }\n});\n\nselectBtn.addEventListener('change', e => {\n  const selectedValue = e.target.value;\n  localStorage.setItem('filter', selectedValue); // Зберігаємо фільтр у LS\n  filterTasks(selectedValue);\n});\n\nsearchInput.addEventListener('input', e => {\n  let searchValue = e.target.value.toLowerCase();\n\n  const filteredTask = tasksArray.filter(item => {\n    console.log(searchValue);\n\n    if (item.text.toLowerCase().includes(searchValue)) {\n      return item;\n    }\n  });\n  // console.log(filteredTask);\n  if (searchValue.trim() === '') {\n    createElement(tasksArray, taskList);\n  } else {\n    createElement(filteredTask, taskList);\n  }\n});\n\nfunction filterTasks(filter) {\n  let filteredTask;\n  switch (filter) {\n    case 'all':\n      filteredTask = tasksArray;\n      break;\n    case 'complete':\n      filteredTask = tasksArray.filter(task => task.completed);\n\n      break;\n    case 'incomplete':\n      filteredTask = tasksArray.filter(task => !task.completed);\n\n      break;\n  }\n  createElement(filteredTask, taskList);\n}\n\nfunction createElement(tasksArray, taskList) {\n  taskList.innerHTML = '';\n  tasksArray.forEach(item => {\n    taskList.insertAdjacentHTML(\n      'beforeend',\n      `<li class=\"task-container \" data-id=${item.id}>\n            <div class=\"checkbox-container\">\n              <input\n                type=\"checkbox\"\n                name=\"custom-checkbox\"\n                id=\"custom-checkbox\"\n                class=\"input-checkbox visually-hidden\"\n                ${item.completed ? 'checked' : ''}\n              />\n              <label for=\"custom-checkbox\" class=\"checkbox-label\">\n                <span>\n                  <svg class=\"svg-chacckbox\">\n                    <use href=\"./img/symbol-defs.svg#icon-Rectangle-18\"></use>\n                  </svg>\n                </span>\n                <p class=\"item-tittle\">${item.text}</p>\n              </label>\n            </div>\n            <div class=\"btn-container-add-delete\">\n          <button class=\"btn-list btn-edit\">\n            <svg class=\"svg-list\" viewBox=\"0 0 32 32\">\n              <path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-width=\"1.778\" d=\"M15.418 10.651 3.555 22.513v5.931h5.931l11.863-11.862m-5.931-5.931 4.256-4.256c.585-.586.879-.879 1.217-.989.298-.097.619-.097.916 0 .338.11.631.403 1.215.987l2.58 2.58c.587.587.881.881.991 1.22.097.298.097.619 0 .916-.11.338-.403.632-.99 1.218l-4.255 4.255m-5.93-5.931 5.931 5.931\"/>\n            </svg>\n          </button>\n          <button class=\"btn-list btn-delete\">\n            <svg class=\"svg-list\" viewBox=\"0 0 32 32\">\n              <path stroke-width=\"1.778\" d=\"M6.888 13.538a2.666 2.666 0 0 1 2.659-2.871h12.907a2.666 2.666 0 0 1 2.659 2.871l-.923 12A2.667 2.667 0 0 1 21.531 28H10.47a2.667 2.667 0 0 1-2.659-2.462l-.923-12z\"/>\n              <path stroke-linecap=\"round\" stroke-width=\"1.778\" d=\"M26 6.667H6\"/>\n              <path stroke-width=\"1.778\" d=\"M13.333 4c0-.736.597-1.333 1.333-1.333h2.667c.736 0 1.333.597 1.333 1.333v2.667h-5.333V4z\"/>\n              <path stroke-linecap=\"round\" stroke-width=\"1.778\" d=\"M18.667 16v6.667M13.333 16v6.667\"/>\n            </svg>\n          </button>\n        </div>\n          </li>`\n    );\n  });\n}\n// </div>\n//             <div class=\"btn-container-add-delete\">\n//               <button class=\"btn-list btn-edid\"> edit\n//                 <svg class=\"svg-list\">\n//                   <use href=\"../img/sprite.svg#icon-edit\"></use>\n//                 </svg></button\n//               ><button class=\"btn-list btn-delete\">delete\n//                 <svg class=\"svg-list\">\n//                   <use href=\"to-do-list-js/src/assets/delete.svg\"></use>\n//                 </svg>\n//               </button>\n//             </div>\n\nfunction editTask(taskId) {\n  modalEdit.classList.remove('hidden');\n\n  const arrayMap = tasksArray.find(item => item.id === taskId);\n  console.log(inputModalEdit.value);\n  // arrayMap.text = inputModalEdit.value;\n  inputModalEdit.value = arrayMap.text;\n\n  applyTaskEdit.addEventListener('click', e => {\n    const arrayFindElement = tasksArray.find(item => item.id === taskId);\n    arrayFindElement.text = inputModalEdit.value;\n\n    localStorage.setItem('tasksArray', JSON.stringify(tasksArray));\n    createElement(tasksArray, taskList);\n    modalEdit.classList.add('hidden');\n  });\n\n  cancelTaskEdit.addEventListener('click', () => {\n    modalEdit.classList.add('hidden');\n  });\n}\nfunction deleteTask(taskId) {\n  modalDelete.classList.remove('hidden');\n\n  applyTaskDelete.addEventListener('click', () => {\n    const findDeleteElement = tasksArray.filter(item => item.id !== taskId);\n    tasksArray = findDeleteElement;\n    localStorage.setItem('tasksArray', JSON.stringify(tasksArray));\n    createElement(tasksArray, taskList);\n    modalDelete.classList.add('hidden');\n  });\n\n  cancelTaskDelete.addEventListener('click', () => {\n    modalDelete.classList.add('hidden');\n  });\n  emptyList();\n}\n\nconst hiddenElement = e => {\n  e.classList.add('hidden');\n};\n\nfunction checkedToggle(taskId) {\n  const task = tasksArray.find(item => item.id === taskId);\n  task.completed = !task.completed;\n\n  localStorage.setItem('tasksArray', JSON.stringify(tasksArray));\n  filterTasks('all');\n}\n\nfunction darkTheme() {\n  body.classList.add('body-night');\n}\n\nfunction lightTheme() {\n  body.classList.remove('body-night');\n}\n\nfunction emptyList() {\n  if (tasksArray.length > 0) {\n    emptyImg.classList.add('hidden');\n    createElement(tasksArray, taskList);\n  }\n}\n"],"names":["body","searchInput","selectBtn","addBtn","modeToggle","svgUse","modalAdd","inputModal","applyTaskAdd","cancelBtn","modalEdit","inputModalEdit","applyTaskEdit","cancelTaskEdit","modalDelete","applyTaskDelete","cancelTaskDelete","emptyImg","taskList","savedFilter","filterTasks","darkTheme","lightTheme","tasksArray","emptyList","inputValue","idItem","hiddenElement","createElement","e","taskItem","taskId","editTask","deleteTask","checkedToggle","selectedValue","searchValue","filteredTask","item","filter","task","arrayMap","arrayFindElement"],"mappings":"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"}