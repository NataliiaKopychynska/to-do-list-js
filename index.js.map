{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["const addBtn = document.querySelector('.add-btn');\nconst modeToggle = document.querySelector('.mode-toggle');\nconst svgUse = document.querySelector('.toggle-icon');\n\nconst modalAdd = document.querySelector('.add-modal');\nconst inputModal = document.querySelector('.input-modal-add');\nconst applyTaskAdd = document.querySelector('.apply');\nconst cancelBtn = document.querySelector('.cancel');\n\nconst modalEdit = document.querySelector('.edit-modal');\nconst inputModalEdit = document.querySelector('.input-modal-edit');\nconst applyTaskEdit = document.querySelector('.apply-changes');\nconst cancelTaskEdit = document.querySelector('.cancel-edit');\n\nconst modalDelete = document.querySelector('.delete-modal');\nconst applyTaskDelete = document.querySelector('.delete-yes');\nconst cancelTaskDelete = document.querySelector('.delete-no');\n\nconst emptyImg = document.querySelector('.empty-element');\nconst taskList = document.querySelector('.task-list');\n\nconst searchInput = document.querySelector('.search-input');\nconst selectBtn = document.querySelector('.btn-all');\nconst body = document.body;\nconst label = document.querySelector('.checkbox-label');\nconst svgCheckbox = document.querySelector('.svg-chacckbox');\nconst modalWindows = document.querySelectorAll('.window-modal');\nconst tittleWindow = document.querySelectorAll('.title');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const savedFilter = localStorage.getItem('filter') || 'all';\n  selectBtn.value = savedFilter;\n  filterTasks(savedFilter);\n\n  if (localStorage.getItem('theme') === 'dark') {\n    svgUse.setAttribute('href', './img/symbol-defs.svg#icon-sun');\n    darkTheme();\n  } else {\n    svgUse.setAttribute('href', './img/symbol-defs.svg#icon-moon');\n    lightTheme();\n  }\n});\n\nlet tasksArray = JSON.parse(localStorage.getItem('tasksArray')) || [];\n\nif (tasksArray.length > 0) {\n  emptyImg.classList.add('hidden');\n  createElement(tasksArray, taskList);\n}\n\naddBtn.addEventListener('click', () => {\n  modalAdd.classList.remove('hidden');\n});\n\nmodeToggle.addEventListener('click', () => {\n  document.body.classList.toggle('dark-theme');\n\n  if (document.body.classList.contains('dark-theme')) {\n    svgUse.setAttribute('href', './img/symbol-defs.svg#icon-sun');\n    localStorage.setItem('theme', 'dark');\n    darkTheme();\n  } else {\n    svgUse.setAttribute('href', './img/symbol-defs.svg#icon-moon');\n    localStorage.setItem('theme', 'light');\n    lightTheme();\n  }\n});\n\napplyTaskAdd.addEventListener('click', () => {\n  const inputValue = inputModal.value;\n\n  const idItem = Date.now();\n  const checked = false;\n  tasksArray.push({ text: inputValue, id: idItem, completed: checked });\n  localStorage.setItem('tasksArray', JSON.stringify(tasksArray));\n  console.log(tasksArray);\n\n  hiddenElement(modalAdd);\n\n  if (tasksArray.length > 0) {\n    emptyImg.classList.add('hidden');\n  }\n\n  createElement(tasksArray, taskList);\n\n  inputModal.value = '';\n  console.log(inputValue);\n});\n\ncancelBtn.addEventListener('click', () => {\n  hiddenElement(modalAdd);\n  inputModal.value = '';\n});\n\ntaskList.addEventListener('click', e => {\n  const taskItem = e.target.closest('.task-container');\n\n  if (!taskItem) return;\n  const taskId = Number(taskItem.dataset.id);\n  console.log(taskId);\n\n  if (e.target.closest('.btn-edid')) {\n    editTask(taskId);\n  }\n\n  if (e.target.closest('.btn-delete')) {\n    deleteTask(taskId);\n  }\n\n  if (e.target.closest('.checkbox-container')) {\n    const taskId = Number(taskItem.dataset.id);\n\n    checkedToggle(taskId);\n  }\n});\n\n// checkboxItem.addEventListener('click', e => {});\n\nselectBtn.addEventListener('change', e => {\n  const selectedValue = e.target.value;\n  localStorage.setItem('filter', selectedValue); // Зберігаємо фільтр у LS\n  filterTasks(selectedValue);\n});\n\nsearchInput.addEventListener('input', e => {\n  let searchValue = e.target.value.toLowerCase();\n\n  const filteredTask = tasksArray.filter(item => {\n    console.log(searchValue);\n\n    if (item.text.toLowerCase().includes(searchValue)) {\n      return item;\n    }\n  });\n  // console.log(filteredTask);\n  if (searchValue.trim() === '') {\n    createElement(tasksArray, taskList);\n  } else {\n    createElement(filteredTask, taskList);\n  }\n});\n\nfunction filterTasks(filter) {\n  let filteredTask;\n  switch (filter) {\n    case 'all':\n      filteredTask = tasksArray;\n      break;\n    case 'complete':\n      filteredTask = tasksArray.filter(task => task.completed);\n      break;\n    case 'incomplete':\n      filteredTask = tasksArray.filter(task => !task.completed);\n      break;\n  }\n  createElement(filteredTask, taskList);\n}\n\nconst hiddenElement = e => {\n  e.classList.add('hidden');\n};\n\nfunction createElement(tasksArray, taskList) {\n  taskList.innerHTML = '';\n  tasksArray.forEach(item => {\n    taskList.insertAdjacentHTML(\n      'beforeend',\n      `<li class=\"task-container \" data-id=${item.id}>\n            <div class=\"checkbox-container\">\n              <input\n                type=\"checkbox\"\n                name=\"custom-checkbox\"\n                id=\"custom-checkbox\"\n                class=\"input-checkbox visually-hidden\"\n                ${item.completed ? 'checked' : ''}\n              />\n              <label for=\"custom-checkbox\" class=\"checkbox-label checkbox-label-night\">\n                <span>\n                  <svg class=\"svg-chacckbox svg-night\">\n                    <use href=\"./img/symbol-defs.svg#icon-Rectangle-18\"></use>\n                  </svg>\n                </span>\n                <p class=\"item-tittle\">${item.text}</p>\n              </label>\n            </div>\n            <div class=\"btn-container-add-delete\">\n              <button class=\"btn-list btn-edid\">\n                <svg class=\"svg-list\">\n                  <use href=\"./img/symbol-defs.svg#icon-edit\"></use>\n                </svg></button\n              ><button class=\"btn-list btn-delete\">\n                <svg class=\"svg-list\">\n                  <use href=\"./img/symbol-defs.svg#icon-delete\"></use>\n                </svg>\n              </button>\n            </div>\n          </li>`\n    );\n  });\n}\n\nfunction editTask(taskId) {\n  const tittle = document.querySelector('.item-tittle');\n  modalEdit.classList.remove('hidden');\n\n  const arrayMap = tasksArray.find(item => item.id === taskId);\n  console.log(inputModalEdit.value);\n  // arrayMap.text = inputModalEdit.value;\n  inputModalEdit.value = arrayMap.text;\n\n  applyTaskEdit.addEventListener('click', e => {\n    const arrayFindElement = tasksArray.find(item => item.id === taskId);\n    arrayFindElement.text = inputModalEdit.value;\n\n    localStorage.setItem('tasksArray', JSON.stringify(tasksArray));\n    createElement(tasksArray, taskList);\n    modalEdit.classList.add('hidden');\n  });\n\n  cancelTaskEdit.addEventListener('click', () => {\n    modalEdit.classList.add('hidden');\n  });\n}\nfunction deleteTask(taskId) {\n  modalDelete.classList.remove('hidden');\n\n  applyTaskDelete.addEventListener('click', () => {\n    const findDeleteElement = tasksArray.filter(item => item.id !== taskId);\n    tasksArray = findDeleteElement;\n    localStorage.setItem('tasksArray', JSON.stringify(tasksArray));\n    createElement(tasksArray, taskList);\n    modalDelete.classList.add('hidden');\n  });\n\n  cancelTaskDelete.addEventListener('click', () => {\n    modalDelete.classList.add('hidden');\n  });\n}\n\nfunction checkedToggle(taskId) {\n  const task = tasksArray.find(item => item.id === taskId);\n\n  task.completed = !task.completed;\n  // checkboxElement.checked;\n\n  localStorage.setItem('tasksArray', JSON.stringify(tasksArray));\n  filterTasks('all');\n}\n\nfunction darkTheme() {\n  label?.classList.add('checkbox-label-night');\n  svgCheckbox?.classList.add('svg-night');\n  searchInput?.classList.add('input-night');\n  inputModal?.classList.add('input-night');\n  inputModalEdit?.classList.add('input-night');\n  modalWindows.forEach(modal => modal.classList.add('window-modal-night'));\n  tittleWindow.forEach(title => title.classList.add('title-night'));\n  body?.classList.add('body-night');\n}\n\nfunction lightTheme() {\n  label?.classList.remove('checkbox-label-night');\n  svgCheckbox?.classList.remove('svg-night');\n  searchInput?.classList.remove('input-night');\n  inputModal?.classList.remove('input-night');\n  inputModalEdit?.classList.remove('input-night');\n  modalWindows.forEach(modal => modal.classList.remove('window-modal-night'));\n  tittleWindow.forEach(title => title.classList.remove('title-night'));\n  body?.classList.remove('body-night');\n}\n"],"names":["addBtn","modeToggle","svgUse","modalAdd","inputModal","applyTaskAdd","cancelBtn","modalEdit","inputModalEdit","applyTaskEdit","cancelTaskEdit","modalDelete","applyTaskDelete","cancelTaskDelete","emptyImg","taskList","searchInput","selectBtn","body","label","svgCheckbox","modalWindows","tittleWindow","savedFilter","filterTasks","darkTheme","lightTheme","tasksArray","createElement","inputValue","idItem","hiddenElement","taskItem","taskId","editTask","deleteTask","checkedToggle","selectedValue","searchValue","filteredTask","item","filter","task","arrayMap","e","arrayFindElement","modal","title"],"mappings":"ssBAAA,MAAMA,EAAS,SAAS,cAAc,UAAU,EAC1CC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,cAAc,EAE9CC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAe,SAAS,cAAc,QAAQ,EAC9CC,EAAY,SAAS,cAAc,SAAS,EAE5CC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAiB,SAAS,cAAc,mBAAmB,EAC3DC,EAAgB,SAAS,cAAc,gBAAgB,EACvDC,EAAiB,SAAS,cAAc,cAAc,EAEtDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAkB,SAAS,cAAc,aAAa,EACtDC,EAAmB,SAAS,cAAc,YAAY,EAEtDC,EAAW,SAAS,cAAc,gBAAgB,EAClDC,EAAW,SAAS,cAAc,YAAY,EAE9CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAO,SAAS,KAChBC,EAAQ,SAAS,cAAc,iBAAiB,EAChDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAe,SAAS,iBAAiB,eAAe,EACxDC,EAAe,SAAS,iBAAiB,QAAQ,EAEvD,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAc,aAAa,QAAQ,QAAQ,GAAK,MACtDN,EAAU,MAAQM,EAClBC,EAAYD,CAAW,EAEnB,aAAa,QAAQ,OAAO,IAAM,QACpCrB,EAAO,aAAa,OAAQ,gCAAgC,EAC5DuB,MAEAvB,EAAO,aAAa,OAAQ,iCAAiC,EAC7DwB,IAEJ,CAAC,EAED,IAAIC,EAAa,KAAK,MAAM,aAAa,QAAQ,YAAY,CAAC,GAAK,GAE/DA,EAAW,OAAS,IACtBb,EAAS,UAAU,IAAI,QAAQ,EAC/Bc,EAAcD,EAAYZ,CAAQ,GAGpCf,EAAO,iBAAiB,QAAS,IAAM,CACrCG,EAAS,UAAU,OAAO,QAAQ,CACpC,CAAC,EAEDF,EAAW,iBAAiB,QAAS,IAAM,CACzC,SAAS,KAAK,UAAU,OAAO,YAAY,EAEvC,SAAS,KAAK,UAAU,SAAS,YAAY,GAC/CC,EAAO,aAAa,OAAQ,gCAAgC,EAC5D,aAAa,QAAQ,QAAS,MAAM,EACpCuB,MAEAvB,EAAO,aAAa,OAAQ,iCAAiC,EAC7D,aAAa,QAAQ,QAAS,OAAO,EACrCwB,IAEJ,CAAC,EAEDrB,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMwB,EAAazB,EAAW,MAExB0B,EAAS,KAAK,MAEpBH,EAAW,KAAK,CAAE,KAAME,EAAY,GAAIC,EAAQ,UADhC,EACkD,CAAE,EACpE,aAAa,QAAQ,aAAc,KAAK,UAAUH,CAAU,CAAC,EAC7D,QAAQ,IAAIA,CAAU,EAEtBI,EAAc5B,CAAQ,EAElBwB,EAAW,OAAS,GACtBb,EAAS,UAAU,IAAI,QAAQ,EAGjCc,EAAcD,EAAYZ,CAAQ,EAElCX,EAAW,MAAQ,GACnB,QAAQ,IAAIyB,CAAU,CACxB,CAAC,EAEDvB,EAAU,iBAAiB,QAAS,IAAM,CACxCyB,EAAc5B,CAAQ,EACtBC,EAAW,MAAQ,EACrB,CAAC,EAEDW,EAAS,iBAAiB,QAAS,GAAK,CACtC,MAAMiB,EAAW,EAAE,OAAO,QAAQ,iBAAiB,EAEnD,GAAI,CAACA,EAAU,OACf,MAAMC,EAAS,OAAOD,EAAS,QAAQ,EAAE,EAWzC,GAVA,QAAQ,IAAIC,CAAM,EAEd,EAAE,OAAO,QAAQ,WAAW,GAC9BC,EAASD,CAAM,EAGb,EAAE,OAAO,QAAQ,aAAa,GAChCE,EAAWF,CAAM,EAGf,EAAE,OAAO,QAAQ,qBAAqB,EAAG,CAC3C,MAAMA,EAAS,OAAOD,EAAS,QAAQ,EAAE,EAEzCI,EAAcH,CAAM,CACrB,CACH,CAAC,EAIDhB,EAAU,iBAAiB,SAAU,GAAK,CACxC,MAAMoB,EAAgB,EAAE,OAAO,MAC/B,aAAa,QAAQ,SAAUA,CAAa,EAC5Cb,EAAYa,CAAa,CAC3B,CAAC,EAEDrB,EAAY,iBAAiB,QAAS,GAAK,CACzC,IAAIsB,EAAc,EAAE,OAAO,MAAM,YAAW,EAE5C,MAAMC,EAAeZ,EAAW,OAAOa,GAAQ,CAG7C,GAFA,QAAQ,IAAIF,CAAW,EAEnBE,EAAK,KAAK,YAAa,EAAC,SAASF,CAAW,EAC9C,OAAOE,CAEb,CAAG,EAEGF,EAAY,KAAM,IAAK,GACzBV,EAAcD,EAAYZ,CAAQ,EAElCa,EAAcW,EAAcxB,CAAQ,CAExC,CAAC,EAED,SAASS,EAAYiB,EAAQ,CAC3B,IAAIF,EACJ,OAAQE,EAAM,CACZ,IAAK,MACHF,EAAeZ,EACf,MACF,IAAK,WACHY,EAAeZ,EAAW,OAAOe,GAAQA,EAAK,SAAS,EACvD,MACF,IAAK,aACHH,EAAeZ,EAAW,OAAOe,GAAQ,CAACA,EAAK,SAAS,EACxD,KACH,CACDd,EAAcW,EAAcxB,CAAQ,CACtC,CAEA,MAAMgB,EAAgB,GAAK,CACzB,EAAE,UAAU,IAAI,QAAQ,CAC1B,EAEA,SAASH,EAAcD,EAAYZ,EAAU,CAC3CA,EAAS,UAAY,GACrBY,EAAW,QAAQa,GAAQ,CACzBzB,EAAS,mBACP,YACA,uCAAuCyB,EAAK,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOlCA,EAAK,UAAY,UAAY,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAQRA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAelD,CACA,CAAG,CACH,CAEA,SAASN,EAASD,EAAQ,CACT,SAAS,cAAc,cAAc,EACpD1B,EAAU,UAAU,OAAO,QAAQ,EAEnC,MAAMoC,EAAWhB,EAAW,KAAKa,GAAQA,EAAK,KAAOP,CAAM,EAC3D,QAAQ,IAAIzB,EAAe,KAAK,EAEhCA,EAAe,MAAQmC,EAAS,KAEhClC,EAAc,iBAAiB,QAASmC,GAAK,CAC3C,MAAMC,EAAmBlB,EAAW,KAAKa,GAAQA,EAAK,KAAOP,CAAM,EACnEY,EAAiB,KAAOrC,EAAe,MAEvC,aAAa,QAAQ,aAAc,KAAK,UAAUmB,CAAU,CAAC,EAC7DC,EAAcD,EAAYZ,CAAQ,EAClCR,EAAU,UAAU,IAAI,QAAQ,CACpC,CAAG,EAEDG,EAAe,iBAAiB,QAAS,IAAM,CAC7CH,EAAU,UAAU,IAAI,QAAQ,CACpC,CAAG,CACH,CACA,SAAS4B,EAAWF,EAAQ,CAC1BtB,EAAY,UAAU,OAAO,QAAQ,EAErCC,EAAgB,iBAAiB,QAAS,IAAM,CAE9Ce,EAD0BA,EAAW,OAAOa,GAAQA,EAAK,KAAOP,CAAM,EAEtE,aAAa,QAAQ,aAAc,KAAK,UAAUN,CAAU,CAAC,EAC7DC,EAAcD,EAAYZ,CAAQ,EAClCJ,EAAY,UAAU,IAAI,QAAQ,CACtC,CAAG,EAEDE,EAAiB,iBAAiB,QAAS,IAAM,CAC/CF,EAAY,UAAU,IAAI,QAAQ,CACtC,CAAG,CACH,CAEA,SAASyB,EAAcH,EAAQ,CAC7B,MAAMS,EAAOf,EAAW,KAAKa,GAAQA,EAAK,KAAOP,CAAM,EAEvDS,EAAK,UAAY,CAACA,EAAK,UAGvB,aAAa,QAAQ,aAAc,KAAK,UAAUf,CAAU,CAAC,EAC7DH,EAAY,KAAK,CACnB,CAEA,SAASC,GAAY,CACnBN,GAAA,MAAAA,EAAO,UAAU,IAAI,wBACrBC,GAAA,MAAAA,EAAa,UAAU,IAAI,aAC3BJ,GAAA,MAAAA,EAAa,UAAU,IAAI,eAC3BZ,GAAA,MAAAA,EAAY,UAAU,IAAI,eAC1BI,GAAA,MAAAA,EAAgB,UAAU,IAAI,eAC9Ba,EAAa,QAAQyB,GAASA,EAAM,UAAU,IAAI,oBAAoB,CAAC,EACvExB,EAAa,QAAQyB,GAASA,EAAM,UAAU,IAAI,aAAa,CAAC,EAChE7B,GAAA,MAAAA,EAAM,UAAU,IAAI,aACtB,CAEA,SAASQ,GAAa,CACpBP,GAAA,MAAAA,EAAO,UAAU,OAAO,wBACxBC,GAAA,MAAAA,EAAa,UAAU,OAAO,aAC9BJ,GAAA,MAAAA,EAAa,UAAU,OAAO,eAC9BZ,GAAA,MAAAA,EAAY,UAAU,OAAO,eAC7BI,GAAA,MAAAA,EAAgB,UAAU,OAAO,eACjCa,EAAa,QAAQyB,GAASA,EAAM,UAAU,OAAO,oBAAoB,CAAC,EAC1ExB,EAAa,QAAQyB,GAASA,EAAM,UAAU,OAAO,aAAa,CAAC,EACnE7B,GAAA,MAAAA,EAAM,UAAU,OAAO,aACzB"}